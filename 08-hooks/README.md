# 8-1. Hooks登場以前の話

最近まで既存のコンポーネントに機能を追加するやりかた

- HOC(High Order Component): 高階コンポーネントと呼ばれる関数を使う方法
  - コンポーネントを引数にとり、戻り値としてコンポーネントを返す関数のこと
  - Reduxを始めとするメジャーなライブラリは、たいていがHOCのインターフェースを備えている
  - 親コンポーネントと子コンポーネントの間でPropsの名前の衝突が起きるとバグる、JSXの内部で使うことができないので柔軟性に欠ける、などの理由で公式Reactチームには嫌われている
- Render Props: 公式がHOCに代わるものとして出してきた
  - 親、子、孫の3階層のコンポーネントを意識する必要がある
  - 肝は真ん中の子コンポーネント
  - どうしても理解したかったら [公式ドキュメント](https://ja.reactjs.org/docs/render-props.html) を読む
  - ほとんど使う場面がない
  - Wrapper Hell
  - Hooksの登場によって、Render Propsはほぼ将来を断たれた

# 8-2. Hooksとはなにか
React Way的には、クラスコンポーネントよりも関数コンポーネントのほうが望ましい

関数コンポーネントはLocal Stateもライフサイクルメソッドも持てない

HOCを使って関数コンポーネントにLocal Stateやライフサイクルメソッドといったクラスコンポーネントが持っている機能を始めとする便利な機能を付与できる `Recompose` というライブラリがよく使われていた

`Recompose`の作者がReact開発チームで中心的な役割を果たして開発されたのが`Hooks`

`Hooks`: 様々なReactの機能をクラスを使わずに利用できるようにするもの

関数コンポーネントにLocal StateやライフサイクルといったReactの機能を **接続する(hook into)** から `Hooks`

## Hooks
- Wrapper Hellになりやすい、可読性が低いといった点がほぼクリアされている
- コードが読みやすくシンプルになる
- stateやライフサイクルを使うといったコンポーネントに付与したい機能をそこだけ切り出すことも簡単
- 再利用しやすくテストしやすい
- 将来的には、クラスコンポーネントでできることがすべて関数コンポーネントでもできるようになる


## クラスコンポーネントと関数コンポーネント
- 既存のコードはクラスコンポーネントで書かれていることが多い
  - 既存のクラスコンポーネントをHooksを使って書き換える必要はない
- ライフサイクルの概念は、クラスコンポーネントのライフサイクルメソッドを先に知っていたほうが理解しやすい
- 新しく作るコンポーネントはHooksと関数コンポーネントで作ることを推奨
